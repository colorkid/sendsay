<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Sendsay</title>

    <script type="text/javascript" src="./dist/sendsay-api.js"></script>
  </head>

  <body>
    <h1>Sendsay Javascript Client</h1>

    <script>
      window.sendsay = new Sendsay({ apiKey: window.localStorage.getItem('apiKey') });

      var req = sendsay.request({
        action: 'sys.settings.get',

        list: [
          'about.id',
        ],
      });

      req.then(
        function(res) {
          var settings = res.list;

          console.log('Sendsay', settings);
        },

        function(err) {
          console.log('Sendsay', err);
        }
      );
    </script>

    <script type="text/javascript" >
      window.sendsayCookie = new Sendsay();

      sendsayCookie.setSessionFromCookie();
      sendsayCookie.setPolicyFromCookie();

      var req = sendsayCookie.request({
        action: 'sys.settings.get',

        list: [
          'about.id',
        ],
      });

      req.then(
        function(res) {
          var settings = res.list;

          console.log('Sendsay Cookie', settings);
        },

        function(err) {
          console.log('Sendsay Cookie', err);
        }
      );
    </script>


    <script type="text/javascript" >
      window.sendsayBasic = new Sendsay({ auth: JSON.parse(window.localStorage.getItem('auth')) });

      var req = sendsayBasic.request({
        action: 'sys.settings.get',

        list: [
          'about.id',
        ],
      });

      req.then(
        function(res) {
          var settings = res.list;

          console.log('Sendsay Basic', settings);
        },

        function(err) {
          console.log('Sendsay Basic', err);
        }
      );
    </script>
  </body>
</html>
